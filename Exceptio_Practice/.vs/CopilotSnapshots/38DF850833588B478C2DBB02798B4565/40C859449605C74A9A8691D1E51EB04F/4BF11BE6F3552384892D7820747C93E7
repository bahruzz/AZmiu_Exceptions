using Exceptio_Practice.Services;

TransportService transportService = new TransportService();

while (true)
{
	Console.WriteLine("\n===== Transport Management System =====");
	Console.WriteLine("1. Create Transport");
	Console.WriteLine("2. Get All Transports");
	Console.WriteLine("3. Get Transport By Id");
	Console.WriteLine("4. Delete Transport");
	Console.WriteLine("5. Get Transports By Brand");
	Console.WriteLine("0. Exit");
	Console.WriteLine("========================================");
	Console.Write("Select an option: ");

	string choice = Console.ReadLine();

	try
	{
		switch (choice)
		{
			case "1":
				transportService.CreateTransport("", "", 0, "");
				break;

			case "2":
				transportService.GetAllTransports();
				break;

			case "3":
				Console.Write("Enter Transport Id: ");
				if (int.TryParse(Console.ReadLine(), out int searchId))
				{
					transportService.GetTransportById(searchId);
				}
				else
				{
					Console.WriteLine("Invalid Id format!");
				}
				break;

			case "4":
				Console.Write("Enter Transport Id to delete: ");
				if (int.TryParse(Console.ReadLine(), out int deleteId))
				{
					transportService.DeleteTransport(deleteId);
				}
				else
				{
					Console.WriteLine("Invalid Id format!");
				}
				break;

			case "5":
				Console.Write("Enter Brand name: ");
				string brand = Console.ReadLine();
				transportService.GetTransportsByBrand(brand);
				break;

			case "0":
				Console.WriteLine("Exiting... Goodbye!");
				return;

			default:
				Console.WriteLine("Invalid option! Please select 0-5.");
				break;
		}
	}
	catch (Exception ex)
	{
		Console.WriteLine($"Error: {ex.Message}");
	}

	Console.WriteLine("\nPress any key to continue...");
	Console.ReadKey();
	Console.Clear();
}
